
# 内存管理

#### 不同编程语言的内存管理方式

* C/C++内存堆空间的申请和释放完全靠自己管理。
* Java依赖JVM做内存管理。
* Python内存管理是由私有堆空间管理的，所有的Python对象和数据结构都存储在私有堆空间中。程序员没有访问堆的权限，只有解释器才能操作。

##### C++程序运行时所需内存空间

* 固定部分
    * 代码区
        * 存储二进制代码
    * 数据区
        * 全局变量、静态变量、常量等。
* 可变部分
    * 栈区（系统自动回收）
        * 运行方法等形参、局部变量、返回值、以及递归栈所需的空间。系统自动分配和回收
    * 堆区（需要程序员自己回收）
        * 动态开辟的空间，存放new出来的对象在堆区中的真实数据。需要手动回收。

#### 内存对齐

* 为什么会有内存对齐？
    * 1.平台原因：不是所有的硬件平台都能访问任意内存地址上的任意数据，某些硬件平台只能在某些地址处取某些特定类型的数据，否则抛出硬件异常。为了同一个程序可以在多平台运行，需要内存对齐。
    * 硬件原因：经过内存对齐后，CPU访问内存的速度大大提升。
